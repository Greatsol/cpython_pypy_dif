В нововой версии cpython добавили класс-обёртку mappingproxy для методов словаря dict.keys(), dict.values(), dict.items().
В результате чего у объектов, возращаемых данными методами, появился новый атрибут mapping.
Его наличие я и буду проверять в тестовом скрипте. Также через dir я заметил, что у возращаемых объектов в pypy нет магического метода __sizeof__().
Добавлена обработка ошибок.

Команды для запуска
Cpython: python3.10 test.py
Pypy: pypy3.9 test.py