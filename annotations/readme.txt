В cpythno3.10 сложные аннотации типов отбрасываются, не загружаясь в стек, что уменшает количесво генерируемого
байт кода. Это можно увидеть, если использовать встроенный дизассемблер -m dis.

Команды для запуска
Cpython: python3.10 -m dis test.py
Pypy: pypy3.9 -m dis test.py